<!DOCTYPE html>
<html>
<head>
  <title>Image Gallery</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Fira+Code&display=swap');

    .image-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      grid-gap: 10px;
    }
    .image-grid img {
      width: 100%;
      cursor: pointer;
      object-fit: cover;
      height: 25vw; /* Set a fixed height for the grid items */
    }
    .modal-content {
      display: flex;
      flex-direction: row-reverse;
    }
    .modal-body {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .modal-body img {
      max-width: 100%;
      height: auto;
    }
    .upload-button {
      position: fixed;
      right: 20px;
      bottom: 20px;
      padding: 10px 20px;
      background-color: #008CBA; /* Blue */
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      text-decoration: none;
    }
    .upload-button:hover {
      background-color: #007B9A; /* Darker blue */
    }
    .gallery-header {
      font-family: 'Fira Code', monospace;
      font-style: italic;
      font-size: 24px;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="gallery-header">Gallery</h1>
    <div class="image-grid">
      <img src="https://www.thewowstyle.com/wp-content/uploads/2015/01/nature-images..jpg" alt="Image 1" data-toggle="modal" data-target="#imageModal" data-description="Description for Image 1">
      <img src="https://allpicts.in/wp-content/uploads/2018/03/Natural-Images-HD-1080p-Download-with-Keyhole-Arch-at-Pfeiffer-Beach.jpg" alt="Image 2" data-toggle="modal" data-target="#imageModal" data-description="Description for Image 2">
      <img src="https://pbs.twimg.com/media/F4orWHWWkAINOJ1?format=jpg&name=orig" alt="Image 3" data-toggle="modal" data-target="#imageModal" data-description="Description for Image 3">
    </div>
  </div>

  <div class="modal fade" id="imageModal" tabindex="-1" role="dialog" aria-labelledby="imageModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <img src="" alt="">
          <p id="imageDescription"></p>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="urlModal" tabindex="-1" role="dialog" aria-labelledby="urlModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="urlModalLabel">Enter Image URL</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <form id="urlImageForm">
          <div class="modal-body">
            <input type="text" id="urlImageInput" class="form-control" placeholder="Enter image URL">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal fade" id="passwordModal" tabindex="-1" role="dialog" aria-labelledby="passwordModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="passwordModalLabel">Enter Password</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <form id="uploadForm" method="post" enctype="multipart/form-data">
          <div class="modal-body">
            <input type="password" id="passwordInput" class="form-control" placeholder="Password">
            <div id="passwordError" class="text-danger" style="display: none;">Incorrect password</div>
            <input type="file" id="fileInput" name="file" class="form-control" style="display: none;">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="passwordSubmit">Submit</button>
            <button type="submit" class="btn btn-primary" id="uploadButton" style="display: none;">Upload</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <a href="#" class="upload-button" data-toggle="modal" data-target="#passwordModal">Upload Image</a>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script>
    function attachEventListeners() {
      const images = document.querySelectorAll('.image-grid img');
      images.forEach(img => {
        img.addEventListener('click', function () {
          const src = this.getAttribute('src');
          const description = this.getAttribute('data-description');
          const modalImg = document.querySelector('#imageModal .modal-body img');
          modalImg.setAttribute('src', src);
          const modalDescription = document.querySelector('#imageModal .modal-body #imageDescription');
          if (description) {
            modalDescription.textContent = description;
          } else {
            modalDescription.textContent = 'No description available';
          }
        });
      });

      const uploadButton = document.querySelector('.upload-button');
      uploadButton.addEventListener('click', function () {
        const passwordModal = document.querySelector('#passwordModal');
        passwordModal.style.display = 'block';
      });
    }

    // Attach event listeners after the page is loaded
    document.addEventListener('DOMContentLoaded', function() {
      attachEventListeners();

      const passwordSubmit = document.querySelector('#passwordSubmit');
      const uploadButton = document.querySelector('#uploadButton');
      const fileInput = document.querySelector('#fileInput');
      passwordSubmit.addEventListener('click', function() {
        const passwordInput = document.querySelector('#passwordInput');
        const passwordError = document.querySelector('#passwordError');
        const passwordModal = document.querySelector('#passwordModal');
        const urlModal = document.querySelector('#urlModal');
        if (passwordInput.value === '123') {
          passwordModal.style.display = 'none';
          urlModal.style.display = 'block';
        } else {
          passwordError.style.display = 'block';
        }
      });

      document.querySelector('#urlImageForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const urlInput = document.querySelector('#urlImageInput');
        const url = urlInput.value;
        const urlModal = document.querySelector('#urlModal');
        if (url) {
          const img = document.createElement('img');
          img.setAttribute('src', url);
          img.setAttribute('alt', 'Uploaded image');
          img.setAttribute('data-toggle', 'modal');
          img.setAttribute('data-target', '#imageModal');
          img.setAttribute('data-description', 'Uploaded image from URL');
          const imageGrid = document.querySelector('.image-grid');
          imageGrid.appendChild(img);
          urlInput.value = '';
          urlModal.style.display = 'none';
        }
      });
    });
  </script>
</body>
</html>
